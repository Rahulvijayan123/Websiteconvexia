{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "properties": {
    "dealActivity": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "assetName": { "type": "string" },
          "buyer": { "type": "string" },
          "developmentStage": { "type": "string" },
          "dealPrice": { "type": "string" },
          "dealDate": { "type": "string" },
          "rationale": { "type": "string" }
        },
        "required": ["assetName", "buyer", "developmentStage", "dealPrice", "dealDate", "rationale"]
      },
      "description": "Recent M&A/licensing deals with real data"
    },
    "directCompetitors": {
      "type": "array",
      "items": { "type": "string" },
      "description": "Names of actual direct competitors"
    },
    "indirectCompetitors": {
      "type": "array",
      "items": { "type": "string" },
      "description": "Alternative treatment approaches and indirect competitors"
    },
    "pipelineAnalysis": {
      "type": "object",
      "properties": {
        "crowdingPercent": { "type": "string" },
        "competitiveThreats": {
          "type": "array",
          "items": { "type": "string" }
        },
        "strategicFitRank": { "type": "string" }
      },
      "required": ["crowdingPercent", "competitiveThreats", "strategicFitRank"],
      "description": "Pipeline crowding analysis"
    },
    "peakRevenue2030": {
      "type": "number",
      "description": "Forecasted peak revenue by 2030 in billions (calculated from patients × price × market share)"
    },
    "cagr": {
      "type": "number",
      "description": "Compound Annual Growth Rate as percentage (calculated mathematically)"
    },
    "marketSize": {
      "type": "string",
      "description": "Current and projected market size in billions"
    },
    "avgSellingPrice": {
      "type": "number",
      "description": "Average selling price per patient in dollars (realistic for disease area)"
    },
    "pricingScenarios": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "scenario": { "type": "string" },
          "usPrice": { "type": "string" },
          "exUsPrice": { "type": "string" },
          "grossToNet": { "type": "string" },
          "copay": { "type": "string" },
          "access": { "type": "string" },
          "genericYear": { "type": "string" },
          "lossOfExclusivity": { "type": "string" },
          "rationale": { "type": "string" }
        },
        "required": ["scenario", "usPrice", "exUsPrice", "grossToNet", "copay", "access", "genericYear", "lossOfExclusivity", "rationale"]
      },
      "description": "Real pricing strategy scenarios"
    },
    "prvEligibility": {
      "type": "string",
      "enum": ["Eligible", "Not eligible"],
      "description": "Priority Review Voucher eligibility (based on patient count < 200,000)"
    },
    "rareDiseaseEligibility": {
      "type": "boolean",
      "description": "Rare disease designation eligibility (patient count < 200,000)"
    },
    "peakPatients2030": {
      "type": "number",
      "description": "Estimated treated patient population by 2030 (realistic for disease)"
    },
    "peakMarketShare2030": {
      "type": "number",
      "description": "Projected market share by 2030 as percentage (realistic for new drugs)"
    },
    "reviewTimelineMonths": {
      "type": "number",
      "description": "Expected FDA review timeline in months (numeric value)"
    },
    "patentStatus": {
      "type": "string",
      "description": "Current patent status and protection"
    },
    "exclusivityPeriod": {
      "type": "number",
      "description": "Years of exclusivity protection (numeric value)"
    },
    "ipPositioning": {
      "type": "string",
      "description": "IP positioning analysis and competitive landscape"
    },
    "total10YearRevenue": {
      "type": "number",
      "description": "Estimated total revenue over 10 years in billions (5-8× peak revenue)"
    },
    "geographicSplit": {
      "type": "object",
      "properties": {
        "us": { "type": "number" },
        "exUs": { "type": "number" }
      },
      "required": ["us", "exUs"],
      "description": "Revenue split between US and ex-US markets at peak (must sum to 100%)"
    },
    "persistenceRate": {
      "type": "number",
      "description": "12-month treatment persistence rate as percentage (0-100%)"
    },
    "treatmentDuration": {
      "type": "string",
      "description": "Median treatment duration in months"
    },
    "competitorPricing": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "drugName": {"type": "string"},
          "annualPrice": {"type": "string"},
          "indication": {"type": "string"},
          "accessLevel": {"type": "string"},
          "rationale": {"type": "string"}
        },
        "required": ["drugName", "annualPrice", "indication", "accessLevel", "rationale"]
      },
      "description": "Pricing and access data for direct competitors"
    },
    "strategicTailwindData": {
      "type": "object",
      "properties": {
        "marketTrends": { "type": "string" },
        "regulatoryEnvironment": { "type": "string" },
        "competitiveLandscape": { "type": "string" },
        "strategicRecommendations": { "type": "string" }
      },
      "required": ["marketTrends", "regulatoryEnvironment", "competitiveLandscape", "strategicRecommendations"],
      "description": "Comprehensive strategic analysis"
    }
  },
  "required": [
    "dealActivity",
    "directCompetitors",
    "indirectCompetitors",
    "pipelineAnalysis",
    "peakRevenue2030",
    "cagr",
    "marketSize",
    "avgSellingPrice",
    "pricingScenarios",
    "prvEligibility",
    "rareDiseaseEligibility",
    "peakPatients2030",
    "peakMarketShare2030",
    "reviewTimelineMonths",
    "patentStatus",
    "exclusivityPeriod",
    "ipPositioning",
    "total10YearRevenue",
    "geographicSplit",
    "persistenceRate",
    "treatmentDuration",
    "competitorPricing",
    "strategicTailwindData"
  ]
} 